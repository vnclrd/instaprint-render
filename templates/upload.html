<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload File</title>
  <link href="./../static/css/main.css" rel="stylesheet" />
</head>
<body>
  <header class="header">
    <!-- Left logo -->
    <img src="./../static/images/pup-logo.png" alt="PUP Logo" />

    <!-- Center text -->
    <div class="center-text">INSTAPRINT - Upload Your File</div>

    <!-- Right logo -->
    <img src="./../static/images/cpe-logo.png" alt="CPE Logo" />
  </header>

  <main>
    <div class="upload-area">
      <h2>Upload Your File</h2>
      <form action="/upload" method="POST" enctype="multipart/form-data">
        <label for="fileInput" class="custom-file-label">
          <img src="./../static/images/upload-icon.png" alt="Upload" />
        </label>

        <input
          type="file"
          id="fileInput"
          name="file"
          accept=".jpg,.jpeg,.png,.pdf,.doc,.docx"
          hidden
          required
        />

        <input
          type="text"
          id="fileName"
          placeholder="Selected file"
          readonly
        />

        <div class="button-container">
          <button id="exitButton" class="action-button" type="button">Exit</button>
          <button id="continueButton" class="action-button" type="submit">Upload</button>
        </div>
      </form>
    </div>
  </main>

  <script>
    // JavaScript for updating file input label
    const fileInput = document.getElementById("fileInput");
    const fileNameInput = document.getElementById("fileName");

    fileInput.addEventListener("change", () => {
      if (fileInput.files.length > 0) {
        fileNameInput.value = Array.from(fileInput.files)
          .map((file) => file.name)
          .join(", ");
      } else {
        fileNameInput.value = "";
      }
    });

    // Exit button functionality
    const exitButton = document.getElementById("exitButton");
    exitButton.addEventListener("click", () => {
      if (confirm("Are you sure you want to exit?")) {
        window.location.href = "/"; // Redirect to the homepage or another page
      }
    });
  </script>
</body>
</html>
